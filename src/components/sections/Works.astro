---
import SectionHeading from "../ui/SectionHeading.astro";
import VideoPlayer from "../ui/VideoPlayer.astro";
import { works, categories } from "../../data/works";
---

<section id="works" class="py-16 md:py-24 relative">
  <!-- Background accent -->
  <div class="absolute top-1/2 left-0 w-1/2 h-1/2 bg-[radial-gradient(circle,rgba(31,182,255,0.05)_0%,transparent_60%)] pointer-events-none"></div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <SectionHeading
      label="Our Works"
      title="Featured Projects"
      description="A showcase of our best motion graphics and video editing work"
    />

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
      {works.map((work, index) => (
        <div class={`group animate-on-scroll stagger-${(index % 3) + 1}`}>
          <div class="interactive-card overflow-hidden">
            <VideoPlayer driveId={work.driveId} title={work.title} />
            <div class="p-4">
              <div class="flex items-center gap-2 mb-2">
                <span class={`text-xs px-2 py-1 rounded-full ${
                  categories[work.category].color === 'primary'
                    ? 'bg-primary/10 text-primary'
                    : 'bg-accent/10 text-accent'
                }`}>
                  {categories[work.category].label}
                </span>
              </div>
              <h3 class="text-lg font-semibold text-white group-hover:text-primary transition-colors">
                {work.title}
              </h3>
              <p class="text-sm text-gray-500 mt-1">{work.description}</p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
